---
layout: default
navsection: admin
title: Configuring collection versioning
...

{% comment %}
Copyright (C) The Arvados Authors. All rights reserved.

SPDX-License-Identifier: CC-BY-SA-3.0
{% endcomment %}

This page describes how to enable and configure the collection versioning feature on the API server.

h3. Configuration

There are 2 configuration settings in the @Collections@ section of @config.yml@ that control this feature.

<pre>
    Collections:
      # If true, enable collection versioning.
      # When a collection's preserve_version field is true or the current version
      # is older than the amount of seconds defined on PreserveVersionIfIdle,
      # a snapshot of the collection's previous state is created and linked to
      # the current collection.
      CollectionVersioning: true

      # This setting control the auto-save aspect of collection versioning, and can be set to:
      #   0s = auto-create a new version on every update.
      #  -1s = never auto-create new versions.
      # > 0s = auto-create a new version when older than the specified number of seconds.
      PreserveVersionIfIdle: 10s
</pre>

Note that if you set @CollectionVersioning@ to @false@ after being enabled, old versions will still be accessible, but further changes will not be versioned.

h3. Using collection versioning

"Discussed in the user guide":{{site.baseurl}}/user/topics/collection-versioning.html
